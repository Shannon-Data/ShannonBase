create database sh_params;
use sh_params;
CREATE TABLE t1 (
id INT PRIMARY KEY AUTO_INCREMENT,
user_name VARCHAR(50) NOT NULL,
account_status ENUM('active', 'inactive', 'suspended') NOT NULL DEFAULT 'active'
) ENGINE=InnoDB SECONDARY_ENGINE=RAPID;
INSERT INTO t1 (user_name, account_status) VALUES
('张三', 'active'),
('李四', 'inactive'),
('bob', 'inactive'),
('grace', 'active'),
('王五', 'suspended');
SHOW VARIABLES LIKE "%rapid%";
Variable_name	Value
rapid_async_column_threshold	16
rapid_gc_interval_scn	1000000
rapid_max_purger_timeout	5000
rapid_memory_size_max	2147483648
rapid_min_versions_for_purge	10
rapid_parallel_load_max	10000
rapid_parallel_part_load_threshold	32
rapid_pop_buffer_size_max	268435456
rapid_propagation_mode	DIRECT_NOTIFICATION
rapid_purge_batch_size	64
rapid_purge_efficiency_threshold	0.100000
rapid_self_load_base_relation_fill_percentage	70
rapid_self_load_enabled	OFF
rapid_self_load_interval_seconds	86400
rapid_self_load_skip_quiet_check	OFF
rapid_use_dynamic_offload	ON
SET rapid_async_column_threshold=11;
ERROR HY000: Variable 'rapid_async_column_threshold' is a GLOBAL variable and should be set with SET GLOBAL
SET GLOBAL rapid_async_column_threshold=11;
SHOW VARIABLES LIKE "%rapid%";
Variable_name	Value
rapid_async_column_threshold	11
rapid_gc_interval_scn	1000000
rapid_max_purger_timeout	5000
rapid_memory_size_max	2147483648
rapid_min_versions_for_purge	10
rapid_parallel_load_max	10000
rapid_parallel_part_load_threshold	32
rapid_pop_buffer_size_max	268435456
rapid_propagation_mode	DIRECT_NOTIFICATION
rapid_purge_batch_size	64
rapid_purge_efficiency_threshold	0.100000
rapid_self_load_base_relation_fill_percentage	70
rapid_self_load_enabled	OFF
rapid_self_load_interval_seconds	86400
rapid_self_load_skip_quiet_check	OFF
rapid_use_dynamic_offload	ON
ALTER TABLE  t1 secondary_load;
SET GLOBAL rapid_async_column_threshold=10;
ERROR HY000: Tables have been loaded, cannot change the rapid params
ALTER TABLE  t1 secondary_unload;
SET GLOBAL rapid_async_column_threshold=10;
SHOW VARIABLES LIKE "%rapid%";
Variable_name	Value
rapid_async_column_threshold	10
rapid_gc_interval_scn	1000000
rapid_max_purger_timeout	5000
rapid_memory_size_max	2147483648
rapid_min_versions_for_purge	10
rapid_parallel_load_max	10000
rapid_parallel_part_load_threshold	32
rapid_pop_buffer_size_max	268435456
rapid_propagation_mode	DIRECT_NOTIFICATION
rapid_purge_batch_size	64
rapid_purge_efficiency_threshold	0.100000
rapid_self_load_base_relation_fill_percentage	70
rapid_self_load_enabled	OFF
rapid_self_load_interval_seconds	86400
rapid_self_load_skip_quiet_check	OFF
rapid_use_dynamic_offload	ON
SET GLOBAL rapid_self_load_enabled=on;
SET GLOBAL rapid_self_load_base_relation_fill_percentage = 80;
SET GLOBAL rapid_self_load_interval_seconds=864;
SHOW VARIABLES LIKE "%rapid%";
Variable_name	Value
rapid_async_column_threshold	10
rapid_gc_interval_scn	1000000
rapid_max_purger_timeout	5000
rapid_memory_size_max	2147483648
rapid_min_versions_for_purge	10
rapid_parallel_load_max	10000
rapid_parallel_part_load_threshold	32
rapid_pop_buffer_size_max	268435456
rapid_propagation_mode	DIRECT_NOTIFICATION
rapid_purge_batch_size	64
rapid_purge_efficiency_threshold	0.100000
rapid_self_load_base_relation_fill_percentage	80
rapid_self_load_enabled	ON
rapid_self_load_interval_seconds	864
rapid_self_load_skip_quiet_check	OFF
rapid_use_dynamic_offload	ON
SET GLOBAL rapid_async_column_threshold =10;
SHOW VARIABLES LIKE "%rapid_async_column_threshold%";
Variable_name	Value
rapid_async_column_threshold	10
SET GLOBAL rapid_gc_interval_scn = 10;
SHOW VARIABLES LIKE "%rapid_gc_interval_scn%";
Variable_name	Value
rapid_gc_interval_scn	10
SET GLOBAL rapid_max_purger_timeout=3000;
SHOW VARIABLES LIKE "%rapid_max_purger_timeout%";
Variable_name	Value
rapid_max_purger_timeout	3000
SET GLOBAL rapid_memory_size_max=2000;
SHOW VARIABLES LIKE "%rapid_memory_size_max%";
Variable_name	Value
rapid_memory_size_max	2000
SET GLOBAL rapid_min_versions_for_purge=2;
SHOW VARIABLES LIKE "%rapid_min_versions_for_purge%";
Variable_name	Value
rapid_min_versions_for_purge	2
SET GLOBAL rapid_parallel_load_max=100;
SHOW VARIABLES LIKE "%rapid_parallel_load_max%";
Variable_name	Value
rapid_parallel_load_max	100
SET GLOBAL rapid_parallel_part_load_threshold=100;
ERROR 42000: Variable 'rapid_parallel_part_load_threshold' can't be set to the value of '100'
SHOW VARIABLES LIKE "%rapid_parallel_part_load_threshold%";
Variable_name	Value
rapid_parallel_part_load_threshold	32
SET GLOBAL rapid_parallel_part_load_threshold=8;
SHOW VARIABLES LIKE "%rapid_parallel_part_load_threshold%";
Variable_name	Value
rapid_parallel_part_load_threshold	8
SET GLOBAL rapid_pop_buffer_size_max=100;
ERROR HY000: Variable 'rapid_pop_buffer_size_max' is a read only variable
SHOW VARIABLES LIKE "%rapid_pop_buffer_size_max%";
Variable_name	Value
rapid_pop_buffer_size_max	268435456
SET GLOBAL rapid_purge_batch_size=1024;
SHOW VARIABLES LIKE "%rapid_purge_batch_size%";
Variable_name	Value
rapid_purge_batch_size	1024
SET GLOBAL rapid_purge_efficiency_threshold=0.10;
SHOW VARIABLES LIKE "%rapid_purge_efficiency_threshold%";
Variable_name	Value
rapid_purge_efficiency_threshold	0.100000
SET GLOBAL rapid_self_load_base_relation_fill_percentage=80;
SHOW VARIABLES LIKE "%rapid_self_load_base_relation_fill_percentage%";
Variable_name	Value
rapid_self_load_base_relation_fill_percentage	80
SET GLOBAL rapid_self_load_enabled=false;
SHOW VARIABLES LIKE "%rapid_self_load_enabled%";
Variable_name	Value
rapid_self_load_enabled	OFF
SET GLOBAL rapid_self_load_enabled=true;
SHOW VARIABLES LIKE "%rapid_self_load_enabled%";
Variable_name	Value
rapid_self_load_enabled	ON
SET GLOBAL rapid_self_load_interval_seconds=1000;
SHOW VARIABLES LIKE "%rapid_self_load_interval_seconds%";
Variable_name	Value
rapid_self_load_interval_seconds	1000
SET GLOBAL rapid_self_load_skip_quiet_check=ON;
SHOW VARIABLES LIKE "%rapid_self_load_skip_quiet_check%";
Variable_name	Value
rapid_self_load_skip_quiet_check	ON
SET GLOBAL rapid_self_load_skip_quiet_check=1;
SHOW VARIABLES LIKE "%rapid_self_load_skip_quiet_check%";
Variable_name	Value
rapid_self_load_skip_quiet_check	ON
SET GLOBAL rapid_self_load_skip_quiet_check=OFF;
SHOW VARIABLES LIKE "%rapid_self_load_skip_quiet_check%";
Variable_name	Value
rapid_self_load_skip_quiet_check	OFF
SET GLOBAL rapid_self_load_skip_quiet_check=0;
SHOW VARIABLES LIKE "%rapid_self_load_skip_quiet_check%";
Variable_name	Value
rapid_self_load_skip_quiet_check	OFF
SET GLOBAL rapid_use_dynamic_offload=ON;
SHOW VARIABLES LIKE "%rapid_use_dynamic_offload%";
Variable_name	Value
rapid_use_dynamic_offload	ON
SET GLOBAL rapid_use_dynamic_offload=1;
SHOW VARIABLES LIKE "%rapid_use_dynamic_offload%";
Variable_name	Value
rapid_use_dynamic_offload	ON
SET GLOBAL rapid_use_dynamic_offload=OFF;
SHOW VARIABLES LIKE "%rapid_use_dynamic_offload%";
Variable_name	Value
rapid_use_dynamic_offload	OFF
SET GLOBAL rapid_use_dynamic_offload=0;
SHOW VARIABLES LIKE "%rapid_use_dynamic_offload%";
Variable_name	Value
rapid_use_dynamic_offload	OFF
SET GLOBAL rapid_propagation_mode=0;
SHOW VARIABLES LIKE "%rapid_propagation_mode%";
Variable_name	Value
rapid_propagation_mode	DIRECT_NOTIFICATION
SET GLOBAL rapid_propagation_mode=DIRECT_NOTIFICATION;
SHOW VARIABLES LIKE "%rapid_propagation_mode%";
Variable_name	Value
rapid_propagation_mode	DIRECT_NOTIFICATION
SET GLOBAL rapid_propagation_mode=1;
SHOW VARIABLES LIKE "%rapid_propagation_mode%";
Variable_name	Value
rapid_propagation_mode	REDO_LOG_PARSE
SET GLOBAL rapid_propagation_mode=REDO_LOG_PARSE;
SHOW VARIABLES LIKE "%rapid_propagation_mode%";
Variable_name	Value
rapid_propagation_mode	REDO_LOG_PARSE
SET GLOBAL rapid_propagation_mode=2;
SHOW VARIABLES LIKE "%rapid_propagation_mode%";
Variable_name	Value
rapid_propagation_mode	HYBRID
SET GLOBAL rapid_propagation_mode=HYBRID;
SHOW VARIABLES LIKE "%rapid_propagation_mode%";
Variable_name	Value
rapid_propagation_mode	HYBRID
SET GLOBAL rapid_propagation_mode=3;
ERROR 42000: Variable 'rapid_propagation_mode' can't be set to the value of '3'
SHOW VARIABLES LIKE "%rapid_propagation_mode%";
Variable_name	Value
rapid_propagation_mode	HYBRID
DROP DATABASE sh_params;
