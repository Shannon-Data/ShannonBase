# restart
create database sh_self_load;
use sh_self_load;
#connection_1, cconnection_2
SET GLOBAL rapid_self_load_enabled=on;
SET GLOBAL rapid_self_load_interval_seconds=60;
SET GLOBAL rapid_self_load_skip_quiet_check=true;
CREATE TABLE simple_enum_table (
id INT PRIMARY KEY AUTO_INCREMENT,
user_name VARCHAR(50) NOT NULL,
account_status ENUM('active', 'inactive', 'suspended') NOT NULL DEFAULT 'active'
) ENGINE=InnoDB SECONDARY_ENGINE=RAPID;
INSERT INTO simple_enum_table (user_name, account_status) VALUES
('张三', 'active'),
('李四', 'inactive'),
('bob', 'inactive'),
('grace', 'active'),
('王五', 'suspended');
ANALYZE TABLE simple_enum_table;
Table	Op	Msg_type	Msg_text
sh_self_load.simple_enum_table	analyze	status	OK
CREATE TABLE simple_enum_table_1 (
id INT PRIMARY KEY AUTO_INCREMENT,
user_name VARCHAR(50) NOT NULL,
account_status ENUM('active', 'inactive', 'suspended') NOT NULL DEFAULT 'active'
) ENGINE=InnoDB SECONDARY_ENGINE=RAPID;
ANALYZE TABLE simple_enum_table_1;
Table	Op	Msg_type	Msg_text
sh_self_load.simple_enum_table_1	analyze	status	OK
CREATE TABLE simple_enum_table_2 (
id INT PRIMARY KEY AUTO_INCREMENT,
user_name VARCHAR(50) NOT NULL,
account_status ENUM('active', 'inactive', 'suspended') NOT NULL DEFAULT 'active'
) ENGINE=InnoDB SECONDARY_ENGINE=Rapid;
ANALYZE TABLE simple_enum_table_2;
Table	Op	Msg_type	Msg_text
sh_self_load.simple_enum_table_2	analyze	status	OK
CREATE TABLE simple_enum_table_3 (
id INT PRIMARY KEY AUTO_INCREMENT,
user_name VARCHAR(50) NOT NULL,
account_status ENUM('active', 'inactive', 'suspended') NOT NULL DEFAULT 'active'
) ENGINE=InnoDB SECONDARY_ENGINE=Null;
ANALYZE TABLE simple_enum_table_3;
Table	Op	Msg_type	Msg_text
sh_self_load.simple_enum_table_3	analyze	status	OK
CREATE TABLE simple_enum_table_4 (
id INT PRIMARY KEY AUTO_INCREMENT,
user_name VARCHAR(50) NOT NULL,
account_status ENUM('active', 'inactive', 'suspended') NOT NULL DEFAULT 'active'
) ENGINE=InnoDB SECONDARY_ENGINE=Null;
ANALYZE TABLE simple_enum_table_4;
Table	Op	Msg_type	Msg_text
sh_self_load.simple_enum_table_4	analyze	status	OK
CREATE TABLE simple_enum_table_5 (
id INT PRIMARY KEY AUTO_INCREMENT,
user_name VARCHAR(50) NOT NULL,
account_status ENUM('active', 'inactive', 'suspended') NOT NULL DEFAULT 'active'
) ENGINE=InnoDB SECONDARY_ENGINE=asdfd;
ANALYZE TABLE simple_enum_table_5;
Table	Op	Msg_type	Msg_text
sh_self_load.simple_enum_table_5	analyze	status	OK
SHOW CREATE TABLE performance_schema.rpd_mirror;
Table	Create Table
rpd_mirror	CREATE TABLE `rpd_mirror` (
  `SCHEMA_NAME` char(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
  `TABLE_NAME` char(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
  `MYSQL_ACCESS_COUNT` bigint unsigned NOT NULL,
  `HEATWAVE_ACCESS_COUNT` bigint unsigned NOT NULL,
  `IMPORTANCE` double unsigned NOT NULL,
  `LAST_QUERIED` timestamp NOT NULL,
  `LAST_QUERIED_IN_HEATWAVE` timestamp NOT NULL,
  `STATE` enum('NOT_LOADED','LOADED') NOT NULL DEFAULT 'NOT_LOADED',
  `RECOMMENDED_READ_THREADS` int NOT NULL,
  `QUERIED_PARTITIONS` json DEFAULT NULL
) ENGINE=PERFORMANCE_SCHEMA DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
select * from information_schema.tables  where table_schema = 'sh_self_load';
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	TABLE_TYPE	ENGINE	VERSION	ROW_FORMAT	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	AUTO_INCREMENT	CREATE_TIME	UPDATE_TIME	CHECK_TIME	TABLE_COLLATION	CHECKSUM	CREATE_OPTIONS	TABLE_COMMENT
def	sh_self_load	simple_enum_table	BASE TABLE	InnoDB	10	Dynamic	5	3276	16384	0	0	0	IGNORE	IGNORE	IGNORE	NULL	utf8mb4_0900_ai_ci	NULL	SECONDARY_ENGINE="RAPID" SECONDARY_LOAD="0"	
def	sh_self_load	simple_enum_table_1	BASE TABLE	InnoDB	10	Dynamic	0	0	16384	0	0	0	IGNORE	IGNORE	IGNORE	NULL	utf8mb4_0900_ai_ci	NULL	SECONDARY_ENGINE="RAPID" SECONDARY_LOAD="0"	
def	sh_self_load	simple_enum_table_2	BASE TABLE	InnoDB	10	Dynamic	0	0	16384	0	0	0	IGNORE	IGNORE	IGNORE	NULL	utf8mb4_0900_ai_ci	NULL	SECONDARY_ENGINE="Rapid" SECONDARY_LOAD="0"	
def	sh_self_load	simple_enum_table_3	BASE TABLE	InnoDB	10	Dynamic	0	0	16384	0	0	0	IGNORE	IGNORE	IGNORE	NULL	utf8mb4_0900_ai_ci	NULL		
def	sh_self_load	simple_enum_table_4	BASE TABLE	InnoDB	10	Dynamic	0	0	16384	0	0	0	IGNORE	IGNORE	IGNORE	NULL	utf8mb4_0900_ai_ci	NULL		
def	sh_self_load	simple_enum_table_5	BASE TABLE	InnoDB	10	Dynamic	0	0	16384	0	0	0	IGNORE	IGNORE	IGNORE	NULL	utf8mb4_0900_ai_ci	NULL	SECONDARY_ENGINE="asdfd" SECONDARY_LOAD="0"	
SHOW VARIABLES LIKE "%rapid_self_load_enabled%";
Variable_name	Value
rapid_self_load_enabled	ON
SET GLOBAL rapid_self_load_enabled=off;
DROP DATABASE sh_self_load;
