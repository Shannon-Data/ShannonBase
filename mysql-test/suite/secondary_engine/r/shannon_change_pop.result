create database test_query;
use test_query;
create table tt (score int, name char(10), id int primary key, gender char(1)) secondary_engine=rapid;
#connection_1 and cconnection_2
#[conn_1]
alter table tt secondary_load;
set use_secondary_engine=forced;
select * from tt;
score	name	id	gender
#[conn_2]
insert into tt values(1, 'n1', 1, 'm'), (2, 'n2', 2, 'f'), (3, 'n3', 3, 'm');
select * from tt;
score	name	id	gender
1	n1	1	m
2	n2	2	f
3	n3	3	m
#[conn_1] after insertion in conn2
select * from tt;
score	name	id	gender
1	n1	1	m
2	n2	2	f
3	n3	3	m
#[conn_2]
update tt set gender ='a' where id >=1 and id <3;
select * from tt;
score	name	id	gender
1	n1	1	a
2	n2	2	a
3	n3	3	m
#[conn_1]
select * from tt;
score	name	id	gender
1	n1	1	a
2	n2	2	a
3	n3	3	m
#[conn_2]
delete from tt where id >=1  and id < 3;
insert into tt values (9,'n9', 9, 'f');
select * from tt;
score	name	id	gender
3	n3	3	m
9	n9	9	f
#[conn_1]
select * from tt;
score	name	id	gender
3	n3	3	m
9	n9	9	f
#[conn_2]
delete from tt;
select * from tt;
score	name	id	gender
#[conn_1]
select * from tt;
score	name	id	gender
#[conn_1]
set use_secondary_engine=off;
alter table tt secondary_unload;
drop table tt;
drop database test_query;
